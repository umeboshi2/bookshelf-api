// Generated by CoffeeScript 1.12.6
'use strict';
var HowhapList, asyncfun, awaitfun;

HowhapList = require('howhap-list');

asyncfun = require('asyncawait/async');

awaitfun = require('asyncawait/await');

module.exports = asyncfun(function(req, res, urlPieces, model, config) {
  var direction, fetchCollection, fetchParams, hasTimestamps, list, orderExpression, promise, total, totalClone;
  promise = model;
  list = new HowhapList(null, {
    availableErrors: config.errors
  });
  hasTimestamps = null;
  if (model.hasTimestamps === false) {
    hasTimestamps = [];
  } else {
    hasTimestamps = model.hasTimestamps;
  }
  if (typeof hasTimestamps === 'boolean') {
    hasTimestamps = ['created_at', 'updated_at'];
  }
  if (hasTimestamps.indexOf(config.deletedAttribute) !== -1) {
    promise = promise.where(config.deletedAttribute, null);
  }
  fetchParams = {};
  if (req.query && Array.isArray(req.query.withRelated)) {
    fetchParams.withRelated = req.query.withRelated;
  }
  fetchCollection = void 0;
  if (urlPieces.length > 1) {
    fetchCollection = false;
    promise = promise.fetch(fetchParams);
  } else {
    fetchCollection = true;
    if (req.query) {
      if (req.query.columns) {
        fetchParams.columns = req.query.columns;
      }
      if (req.query.where) {
        if (Array.isArray(req.query.where)) {
          promise = promise.where.apply(promise, req.query.where);
        } else if (Object.prototype.toString.call(req.query.where) === '[object Object]') {
          promise = promise.where(req.query.where);
        }
      }
      if (req.query.distinct) {
        promise = promise.query('distinct', req.query.distinct);
      }
      totalClone = promise.clone();
      if (req.query.distinct) {
        totalClone = totalClone.query('groupBy', req.query.distinct);
      }
      total = awaitfun(totalClone.count());
      if (req.query.sort || req.query.offset) {
        direction = req.query.direction || 'ASC';
        direction = direction.toLowerCase();
        if (Array.isArray(req.query.sort)) {
          orderExpression = [];
          req.query.sort.forEach(function(col) {
            return orderExpression.push(col + " " + direction);
          });
          promise = promise.query('orderByRaw', orderExpression.join(', '));
        } else {
          promise = promise.query('orderBy', req.query.sort, direction);
        }
      }
      if (req.query.offset) {
        promise = promise.query('offset', req.query.offset);
      }
      if (req.query.limit) {
        promise = promise.query('limit', req.query.limit);
      }
    }
    promise = promise.fetchAll(fetchParams);
  }
  return promise.then(function(results) {
    var data;
    if (!results) {
      list.add('RECORD_NOT_FOUND', {
        model: urlPieces[0],
        id: urlPieces[1]
      });
      res.status(config.errors.RECORD_NOT_FOUND.status).json(list.toObject());
    } else {
      if (fetchCollection) {
        data = {
          total: total,
          items: results.toJSON()
        };
      } else {
        data = results.toJSON();
      }
      res.json(data);
    }
  })["catch"](function(err) {
    list.add('RECORD_NOT_FOUND', {
      error: err.toString()
    });
    res.status(config.errors.UNKNOWN.status).json(list.toObject());
  }).then(function() {
    return Promise.resolve({
      urlPieces: urlPieces,
      model: model
    });
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJzcmMvZ2V0LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQSxJQUFBOztBQUNBLFVBQUEsR0FBYSxPQUFBLENBQVEsYUFBUjs7QUFDYixRQUFBLEdBQVcsT0FBQSxDQUFRLGtCQUFSOztBQUNYLFFBQUEsR0FBVyxPQUFBLENBQVEsa0JBQVI7O0FBRVgsTUFBTSxDQUFDLE9BQVAsR0FBaUIsUUFBQSxDQUFTLFNBQUMsR0FBRCxFQUFNLEdBQU4sRUFBVyxTQUFYLEVBQXNCLEtBQXRCLEVBQTZCLE1BQTdCO0FBQ3hCLE1BQUE7RUFBQSxPQUFBLEdBQVU7RUFFVixJQUFBLEdBQU8sSUFBSSxVQUFKLENBQWUsSUFBZixFQUFxQjtJQUFBLGVBQUEsRUFBaUIsTUFBTSxDQUFDLE1BQXhCO0dBQXJCO0VBQ1AsYUFBQSxHQUFnQjtFQUNoQixJQUFHLEtBQUssQ0FBQyxhQUFOLEtBQXVCLEtBQTFCO0lBQ0UsYUFBQSxHQUFnQixHQURsQjtHQUFBLE1BQUE7SUFHRSxhQUFBLEdBQWdCLEtBQUssQ0FBQyxjQUh4Qjs7RUFJQSxJQUFHLE9BQU8sYUFBUCxLQUF3QixTQUEzQjtJQUNFLGFBQUEsR0FBZ0IsQ0FDZCxZQURjLEVBRWQsWUFGYyxFQURsQjs7RUFLQSxJQUFHLGFBQWEsQ0FBQyxPQUFkLENBQXNCLE1BQU0sQ0FBQyxnQkFBN0IsQ0FBQSxLQUFrRCxDQUFDLENBQXREO0lBQ0UsT0FBQSxHQUFVLE9BQU8sQ0FBQyxLQUFSLENBQWMsTUFBTSxDQUFDLGdCQUFyQixFQUF1QyxJQUF2QyxFQURaOztFQUVBLFdBQUEsR0FBYztFQUNkLElBQUcsR0FBRyxDQUFDLEtBQUosSUFBYyxLQUFLLENBQUMsT0FBTixDQUFjLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBeEIsQ0FBakI7SUFDRSxXQUFXLENBQUMsV0FBWixHQUEwQixHQUFHLENBQUMsS0FBSyxDQUFDLFlBRHRDOztFQUdBLGVBQUEs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T0FBSjtNQUNFLElBQUksQ0FBQyxHQUFMLENBQVMsa0JBQVQsRUFDRTtRQUFBLEtBQUEsRUFBTyxTQUFVLENBQUEsQ0FBQSxDQUFqQjtRQUNBLEVBQUEsRUFBSSxTQUFVLENBQUEsQ0FBQSxDQURkO09BREY7TUFHQSxHQUFHLENBQUMsTUFBSixDQUFXLE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBMUMsQ0FBaUQsQ0FBQyxJQUFsRCxDQUF1RCxJQUFJLENBQUMsUUFBTCxDQUFBLENBQXZELEVBSkY7S0FBQSxNQUFBO01BTUUsSUFBRyxlQUFIO1FBQ0UsSUFBQSxHQUNFO1VBQUEsS0FBQSxFQUFPLEtBQVA7VUFDQSxLQUFBLEVBQU8sT0FBTyxDQUFDLE1BQVIsQ0FBQSxDQURQO1VBRko7T0FBQSxNQUFBO1FBS0UsSUFBQSxHQUFPLE9BQU8sQ0FBQyxNQUFSLENBQUEsRUFMVDs7TUFNQSxHQUFHLENBQUMsSUFBSixDQUFTLElBQVQsRUFaRjs7RUFEVyxDQUFiLENBZUMsRUFBQyxLQUFELEVBZkQsQ0FlUSxTQUFDLEdBQUQ7SUFDTixJQUFJLENBQUMsR0FBTCxDQUFTLGtCQUFULEVBQTZCO01BQUEsS0FBQSxFQUFPLEdBQUcsQ0FBQyxRQUFKLENBQUEsQ0FBUDtLQUE3QjtJQUNBLEdBQUcsQ0FBQyxNQUFKLENBQVcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBakMsQ0FBd0MsQ0FBQyxJQUF6QyxDQUE4QyxJQUFJLENBQUMsUUFBTCxDQUFBLENBQTlDO0VBRk0sQ0FmUixDQW1CQyxDQUFDLElBbkJGLENBbUJPLFNBQUE7V0FDTCxPQUFPLENBQUMsT0FBUixDQUNFO01BQUEsU0FBQSxFQUFXLFNBQVg7TUFDQSxLQUFBLEVBQU8sS0FEUDtLQURGO0VBREssQ0FuQlA7QUFyRXdCLENBQVQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbkhvd2hhcExpc3QgPSByZXF1aXJlKCdob3doYXAtbGlzdCcpXG5hc3luY2Z1biA9IHJlcXVpcmUgJ2FzeW5jYXdhaXQvYXN5bmMnXG5hd2FpdGZ1biA9IHJlcXVpcmUgJ2FzeW5jYXdhaXQvYXdhaXQnXG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmNmdW4gKHJlcSwgcmVzLCB1cmxQaWVjZXMsIG1vZGVsLCBjb25maWcpIC0+XG4gIHByb21pc2UgPSBtb2RlbFxuICBcbiAgbGlzdCA9IG5ldyBIb3doYXBMaXN0KG51bGwsIGF2YWlsYWJsZUVycm9yczogY29uZmlnLmVycm9ycylcbiAgaGFzVGltZXN0YW1wcyA9IG51bGxcbiAgaWYgbW9kZWwuaGFzVGltZXN0YW1wcyA9PSBmYWxzZVxuICAgIGhhc1RpbWVzdGFtcHMgPSBbXVxuICBlbHNlXG4gICAgaGFzVGltZXN0YW1wcyA9IG1vZGVsLmhhc1RpbWVzdGFtcHNcbiAgaWYgdHlwZW9mIGhhc1RpbWVzdGFtcHMgPT0gJ2Jvb2xlYW4nXG4gICAgaGFzVGltZXN0YW1wcyA9IFtcbiAgICAgICdjcmVhdGVkX2F0J1xuICAgICAgJ3VwZGF0ZWRfYXQnXG4gICAgXVxuICBpZiBoYXNUaW1lc3RhbXBzLmluZGV4T2YoY29uZmlnLmRlbGV0ZWRBdHRyaWJ1dGUpICE9IC0xXG4gICAgcHJvbWlzZSA9IHByb21pc2Uud2hlcmUoY29uZmlnLmRlbGV0ZWRBdHRyaWJ1dGUsIG51bGwpXG4gIGZldGNoUGFyYW1zID0ge31cbiAgaWYgcmVxLnF1ZXJ5IGFuZCBBcnJheS5pc0FycmF5KHJlcS5xdWVyeS53aXRoUmVsYXRlZClcbiAgICBmZXRjaFBhcmFtcy53aXRoUmVsYXRlZCA9IHJlcS5xdWVyeS53aXRoUmVsYXRlZFxuICAjIEZJWE1FIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0aGFuIGEgY29sbGVjdGlvbi9tb2RlbCBmbGFnP1xuICBmZXRjaENvbGxlY3Rpb24gPSB1bmRlZmluZWRcbiAgIyBHZXQgaW5kaXZpZHVhbCByZWNvcmRcbiAgaWYgdXJsUGllY2VzLmxlbmd0aCA+IDFcbiAgICBmZXRjaENvbGxlY3Rpb24gPSBmYWxzZVxuICAgIHByb21pc2UgPSBwcm9taXNlLmZldGNoKGZldGNoUGFyYW1zKVxuICBlbHNlXG4gICAgZmV0Y2hDb2xsZWN0aW9uID0gdHJ1ZVxuICAgIGlmIHJlcS5xdWVyeVxuICAgICAgIyBDb2x1bW5zIHN1cHBvcnRcbiAgICAgIGlmIHJlcS5xdWVyeS5jb2x1bW5zXG4gICAgICAgIGZldGNoUGFyYW1zLmNvbHVtbnMgPSByZXEucXVlcnkuY29sdW1uc1xuICAgICAgIyBXaGVyZSBjbGF1c2Ugc3VwcG9ydFxuICAgICAgaWYgcmVxLnF1ZXJ5LndoZXJlXG4gICAgICAgIGlmIEFycmF5LmlzQXJyYXkocmVxLnF1ZXJ5LndoZXJlKVxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLndoZXJlLmFwcGx5KHByb21pc2UsIHJlcS5xdWVyeS53aGVyZSlcbiAgICAgICAgZWxzZSBpZiBPYmplY3Q6OnRvU3RyaW5nLmNhbGwocmVxLnF1ZXJ5LndoZXJlKSA9PSAnW29iamVjdCBPYmplY3RdJ1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLndoZXJlKHJlcS5xdWVyeS53aGVyZSlcbiAgICAgICMgZGlzdGluY3QgY29sdW1uIHN1cHBvcnRcbiAgICAgIGlmIHJlcS5xdWVyeS5kaXN0aW5jdFxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5xdWVyeSgnZGlzdGluY3QnLCByZXEucXVlcnkuZGlzdGluY3QpXG4gICAgICAjIHdlIG5lZWQgdG8gZ2V0IGEgdG90YWwgY291bnQgYW5kIGluY2x1ZGUgdGhhdCBpbiByZXNwb25zZVxuICAgICAgIyB3aXRoIGNvbGxlY3Rpb24gXCJ7dG90YWw6Y291bnQoKSwgaXRlbXM6W119XCJcbiAgICAgICMgYmVmb3JlIHNldHRpbmcgb2Zmc2V0IGFuZCBsaW1pdFxuICAgICAgdG90YWxDbG9uZSA9IHByb21pc2UuY2xvbmUoKVxuICAgICAgIyB3aXRoIHBnIHdlIG5lZWQgdG8gYWxzbyBhZGQgZ3JvdXAgYnlcbiAgICAgIGlmIHJlcS5xdWVyeS5kaXN0aW5jdFxuICAgICAgICB0b3RhbENsb25lID0gdG90YWxDbG9uZS5xdWVyeSAnZ3JvdXBCeScsIHJlcS5xdWVyeS5kaXN0aW5jdFxuICAgICAgdG90YWwgPSBhd2FpdGZ1biB0b3RhbENsb25lLmNvdW50KClcblxuICAgICAgIyBPcmRlciBieSBzdXBwb3J0IChuZWVkZWQgZm9yIG9mZnNldClcbiAgICAgIGlmIHJlcS5xdWVyeS5zb3J0IG9yIHJlcS5xdWVyeS5vZmZzZXRcbiAgICAgICAgZGlyZWN0aW9uID0gcmVxLnF1ZXJ5LmRpcmVjdGlvbiBvciAnQVNDJ1xuICAgICAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24udG9Mb3dlckNhc2UoKVxuICAgICAgICBpZiBBcnJheS5pc0FycmF5IHJlcS5xdWVyeS5zb3J0XG4gICAgICAgICAgb3JkZXJFeHByZXNzaW9uID0gW11cbiAgICAgICAgICByZXEucXVlcnkuc29ydC5mb3JFYWNoIChjb2wpIC0+XG4gICAgICAgICAgICBvcmRlckV4cHJlc3Npb24ucHVzaCBcIiN7Y29sfSAje2RpcmVjdGlvbn1cIlxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnF1ZXJ5KCdvcmRlckJ5UmF3Jywgb3JkZXJFeHByZXNzaW9uLmpvaW4oJywgJykpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5xdWVyeSgnb3JkZXJCeScsIHJlcS5xdWVyeS5zb3J0LCBkaXJlY3Rpb24pXG4gICAgICAjIE9mZnNldCBzdXBwb3J0XG4gICAgICBpZiByZXEucXVlcnkub2Zmc2V0XG4gICAgICAgICNwcm9taXNlID0gcHJvbWlzZS5xdWVyeSgocWIpIC0+IHFiLm9mZnNldChyZXEucXVlcnkub2Zmc2V0KSlcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UucXVlcnkoJ29mZnNldCcsIHJlcS5xdWVyeS5vZmZzZXQpXG4gICAgICAjIExpbWl0IHN1cHBvcnRcbiAgICAgIGlmIHJlcS5xdWVyeS5saW1pdFxuICAgICAgICAjcHJvbWlzZSA9IHByb21pc2UucXVlcnkoKHFiKSAtPiBxYi5saW1pdChyZXEucXVlcnkubGltaXQpKVxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5xdWVyeSgnbGltaXQnLCByZXEucXVlcnkubGltaXQpXG4gICAgcHJvbWlzZSA9IHByb21pc2UuZmV0Y2hBbGwoZmV0Y2hQYXJhbXMpXG4gIHByb21pc2UudGhlbigocmVzdWx0cykgLT5cbiAgICBpZiAhcmVzdWx0c1xuICAgICAgbGlzdC5hZGQgJ1JFQ09SRF9OT1RfRk9VTkQnLFxuICAgICAgICBtb2RlbDogdXJsUGllY2VzWzBdXG4gICAgICAgIGlkOiB1cmxQaWVjZXNbMV1cbiAgICAgIHJlcy5zdGF0dXMoY29uZmlnLmVycm9ycy5SRUNPUkRfTk9UX0ZPVU5ELnN0YXR1cykuanNvbiBsaXN0LnRvT2JqZWN0KClcbiAgICBlbHNlXG4gICAgICBpZiBmZXRjaENvbGxlY3Rpb25cbiAgICAgICAgZGF0YSA9XG4gICAgICAgICAgdG90YWw6IHRvdGFsXG4gICAgICAgICAgaXRlbXM6IHJlc3VsdHMudG9KU09OKClcbiAgICAgIGVsc2VcbiAgICAgICAgZGF0YSA9IHJlc3VsdHMudG9KU09OKClcbiAgICAgIHJlcy5qc29uIGRhdGFcbiAgICByZXR1cm5cbiAgKS5jYXRjaCgoZXJyKSAtPlxuICAgIGxpc3QuYWRkICdSRUNPUkRfTk9UX0ZPVU5EJywgZXJyb3I6IGVyci50b1N0cmluZygpXG4gICAgcmVzLnN0YXR1cyhjb25maWcuZXJyb3JzLlVOS05PV04uc3RhdHVzKS5qc29uIGxpc3QudG9PYmplY3QoKVxuICAgIHJldHVyblxuICApLnRoZW4gLT5cbiAgICBQcm9taXNlLnJlc29sdmVcbiAgICAgIHVybFBpZWNlczogdXJsUGllY2VzXG4gICAgICBtb2RlbDogbW9kZWxcbiJdfQ==
//# sourceURL=/freespace/home/umeboshi/workspace/bookshelf-api/src/get.coffee